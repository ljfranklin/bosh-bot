// Generated by CoffeeScript 1.10.0
(function() {
  var DEFAULTS, _, config, ensureOverridesExist, stringifyAnything;

  _ = {
    each: require('lodash/each'),
    extend: require('lodash/extend'),
    keys: require('lodash/keys')
  };

  stringifyAnything = require('./stringify/anything');

  DEFAULTS = {
    promiseConstructor: global.Promise,
    ignoreWarnings: false,
    suppressErrors: false
  };

  config = _.extend({}, DEFAULTS);

  module.exports = function(overrides) {
    ensureOverridesExist(overrides);
    return _.extend(config, overrides);
  };

  module.exports.reset = function() {
    return config = _.extend({}, DEFAULTS);
  };

  ensureOverridesExist = function(overrides) {
    return _.each(overrides, function(val, key) {
      if (!config.hasOwnProperty(key)) {
        return require('./log').error("td.config", "\"" + key + "\" is not a valid configuration key (valid keys are: " + (stringifyAnything(_.keys(config))) + ")");
      }
    });
  };

}).call(this);
